<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="{{ url_for('static', filename='icon.png') }}" type="image/x-icon" />

    <!-- Bootstrap CSS & Jquery -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"
        integrity="sha512-3j3VU6WC5rPQB4Ld1jnLV7Kd5xr+cq9avvhwqzbH/taCRNURoeEpoPBK9pDyeukwSxwRPJ8fDgvYXd6SkaZ2TA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
    <script src="{{ url_for('static', filename='myjs.js') }}"></script>

    <title>BookVerse - Home</title>
    <script>
        let detail_book = {{ book_detail | tojson }};

        $(document).ready(function () {
            no_login();
            detail();
            roledetail();
        });

        function roledetail() {
            let role = $.cookie('role');
            $('#navadmindetail').hide();
            $('#navuserdetail').hide();
            if (role === 'admin') {
                $('#navadmindetail').show();
            }
            if (role === 'user') {
                $('#navuserdetail').show();
            }
        }

        function detail() {
            let judul = detail_book['JudulBuku'];
            let deskripsi = detail_book['Deskripsi'];
            let harga = detail_book['Harga'];
            let kategori = detail_book['Kategori'];
            let bahasa = detail_book['Bahasa'];
            let cover = detail_book['Cover'];

            let temp_html = `
            <div class="col mb-5">
                <div style="max-width: 350px;">
                    <img src="/static/${cover}" class="detail-img" alt="Book" width="350">
                </div>
            </div>
            <div class="col-7">
                <h1 class="fw-bolder">${judul}</h1>
                <h6 class="fw-bold mt-3">Deskripsi Buku</h6>
                <p>${deskripsi}</p>
                <div class="row">
                    <div class="col">
                        <h6 class="fw-bold">Harga</h6>
                    </div>
                    <div class="col-10 harga">
                        <p>: ${harga}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <h6 class="fw-bold">Kategori</h6>
                    </div>
                    <div class="col-10">
                        <p>: ${kategori}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <h6 class="fw-bold">Bahasa</h6>
                    </div>
                    <div class="col-10">
                        <p>: ${bahasa}</p>
                    </div>
                </div>
            </div>
            `;
            $('#detailbuku').append(temp_html);
        }

    </script>
</head>

<body>
    <nav class="navbar navbar-expand bg-nav" id="navadmindetail">
        <div class="container-fluid">
            <a class="navbar-brand" href="/adminpage">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" height="55" width="200">
            </a>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <form class="d-flex">
                        <div class="form-control me-4 form-nav">
                            <input class="inp-nav" placeholder="Cari Buku" aria-label="Search" id="cari">
                            <a onclick="cari()"><i class="fa fa-search fa-lg icon-src-nav" aria-hidden="true"></i></a>
                        </div>
                    </form>
                    <a class="nav-link active semibold" style="color: black;" aria-current="page" href="/tambah">Input
                        Buku</a>
                    <a class="nav-link semibold" style="color: #D60000; cursor: pointer;"
                        onclick="sign_out()">Keluar</a>
                </div>
            </div>
        </div>
    </nav>

    <nav class="navbar navbar-expand bg-nav" id="navuserdetail">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" height="55" width="200">
            </a>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <form class="d-flex">
                        <div class="form-control me-4 form-nav">
                            <input class="inp-nav" placeholder="Cari Buku" aria-label="Search" id="cari" disabled>
                            <a onclick="cari()"><i class="fa fa-search fa-lg icon-src-nav" aria-hidden="true"></i></a>
                        </div>
                    </form>
                </div>
                <a href="/favorite"><i class="fa fa-heart fa-2x me-4 black" aria-hidden="true"></i></a>
                <a href="/cart"><i class="fa fa-shopping-cart fa-2x me-4 black" aria-hidden="true"></i></a>
                <a href="/profile"><i class="fa fa-user fa-2x me-2 black" aria-hidden="true"></i></a>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row" id="detailbuku">

        </div>
    </div>
</body>

</html>